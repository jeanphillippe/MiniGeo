<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Frontier</title>
    <script src="https://unpkg.com/peerjs@1.5.5/dist/peerjs.min.js"></script>
  </head>
  <body>
    <div id="gameContainer">
      <div id="intro">
        <h1>Quantum Frontier</h1>
        <p>Navega a través de espacios peligrosos. Decide a quién ayudar en tu camino. Enfrenta naves enemigas que ocupan mundos lejanos. Mantente alerta: te atacarán si te acercas demasiado.</p>
        <button id="startBtn">PLAY</button>
      </div>
      <div id="hud">
        <div id="healthHud">✚ <span id="health">1000</span>
        </div>
        <div id="scoreHud">★ <span id="score">0</span>
        </div>
        <div id="weaponHud">
          <span id="currentWeapon">1-Blaster</span>
        </div>
        <div id="coordinates">
          <span id="posX">0</span>, <span id="posZ">0</span>
        </div>
        <div id="effects"></div>
        <div id="multiplayerStatus" style="
    top: 10px; left: 10px; 
    color: #00f2fe; font-family: 'Courier New', monospace; 
    font-size: 12px; background: rgba(0,0,0,0.7); 
    padding: 5px 10px; border-radius: 5px; z-index: 100;
">
    <span id="playerCount">Conectando...</span>
</div>
      </div>
      <div id="minimap">
        <canvas id="minimapCanvas" width="120" height="120"></canvas>
        <div id="minimapToggle">⊞</div>
      </div>
      
      <div id="controls">
        <div>WASD/←↑→ | Mover</div>
        <div>ESPACIO  | Disparar</div>
        <div>1-8 Cambiar Carga</div>
      </div>
      <div id="mobileControls">
        <div id="dpad">
          <div id="dpadOuter"></div>
          <div id="dpadInner"></div>
        </div>
        <div id="fireBtn">FIRE</div>
        <div id="weaponBtn">W <br>1 </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="./quantumfrontier/assets/quantumfrontier.js"></script>
  
    <style>body{margin:0;padding:0;background:#000;font-family:'Courier New',monospace;overflow:hidden}#gameContainer{position:relative;width:100vw;height:100vh}canvas{display:block}#intro{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#0a0a2e,#16213e,#0f3460);display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;z-index:1000;transition:opacity 0.5s}#intro h1{font-size:4rem;margin:0;text-shadow:0 0 20px #4facfe;background:linear-gradient(45deg,#4facfe,#00f2fe);-webkit-background-clip:text;-webkit-text-fill-color:#fff0;animation:glow 2s infinite alternate}#intro p{font-size:1.2rem;margin:20px 0;text-align:center;max-width:600px;line-height:1.6}#startBtn{padding:15px 30px;font-size:1.5rem;background:linear-gradient(45deg,#667eea,#764ba2);border:none;color:#fff;cursor:pointer;border-radius:50px;transition:all 0.3s;box-shadow:0 4px 15px rgb(0 0 0 / .3)}#startBtn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgb(0 0 0 / .4)}#playAgainBtn,#backToMenuBtn{padding:12px 25px;font-size:1.2rem;background:linear-gradient(45deg,#667eea,#764ba2);border:none;color:#fff;cursor:pointer;border-radius:40px;transition:all 0.3s;box-shadow:0 4px 15px rgb(0 0 0 / .3);margin:10px}#playAgainBtn:hover,#backToMenuBtn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgb(0 0 0 / .4)}#playAgainBtn{background:linear-gradient(45deg,#00ff88,#00d4aa)}#backToMenuBtn{background:linear-gradient(45deg,#ff6b6b,#ff5252)}@keyframes glow{0%{text-shadow:0 0 20px #4facfe}100%{text-shadow:0 0 30px #4facfe,0 0 40px #00f2fe}}#hud{position:absolute;top:20px;left:20px;color:#4facfe;font-size:1rem;z-index:100;text-shadow:0 0 10px rgb(79 172 254 / .8);display:flex;flex-direction:column;gap:8px}#healthHud{color:#0f8;font-weight:700}#scoreHud{color:#feca57;font-weight:700}#weaponHud{color:#ff6b6b;font-weight:700}#coordinates{color:rgb(79 172 254 / .7);font-size:.9rem}#minimap{position:absolute;top:20px;right:20px;width:120px;height:120px;border:2px solid rgb(79 172 254 / .4);border-radius:8px;background:rgb(0 0 0 / .8);backdrop-filter:blur(5px);z-index:100;transition:all 0.3s ease;cursor:pointer}#minimap.expanded{width:300px;height:300px;right:50%;top:50%;transform:translate(50%,-50%);z-index:1001}#minimapCanvas{width:100%;height:100%;border-radius:6px}#minimapToggle{position:absolute;top:-8px;right:-8px;width:20px;height:20px;background:rgb(79 172 254 / .8);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;cursor:pointer;border:1px solid rgb(79 172 254 / .6)}#minimapToggle:hover{background:rgb(79 172 254)}.hidden{opacity:0;pointer-events:none}#controls{position:absolute;bottom:20px;right:20px;color:rgb(255 255 255 / .7);font-size:.9rem;text-align:right;z-index:100}#effects{position:absolute;top:160px;left:20px;color:#feca57;font-size:.8rem;z-index:100;text-shadow:0 0 10px rgb(254 202 87 / .8)}#mobileControls{position:absolute;bottom:20px;left:0px;right:20px;display:none;z-index:200}#dpad{position:absolute;bottom:0px;left:20px;width:120px;height:120px}#dpadOuter{width:120px;height:120px;border:3px solid rgb(79 172 254 / .6);border-radius:50%;position:absolute;background:rgb(0 0 0 / .3);backdrop-filter:blur(5px)}#dpadInner{width:40px;height:40px;background:rgb(79 172 254 / .8);border-radius:50%;position:absolute;top:40px;left:40px;transition:all 0.1s ease;box-shadow:0 0 15px rgb(79 172 254 / .6)}#fireBtn{position:absolute;bottom:0px;right:0px;width:80px;height:80px;border:3px solid rgb(255 75 87 / .6);border-radius:50%;background:rgb(255 75 87 / .3);color:#fff;font-size:14px;display:flex;align-items:center;justify-content:center;user-select:none;backdrop-filter:blur(5px);box-shadow:0 0 20px rgb(255 75 87 / .4);font-weight:700}#weaponBtn{position:absolute;bottom:90px;right:0px;width:60px;height:60px;border:3px solid rgb(254 202 87 / .6);border-radius:50%;background:rgb(254 202 87 / .3);color:#fff;font-size:12px;display:flex;align-items:center;justify-content:center;user-select:none;backdrop-filter:blur(5px);box-shadow:0 0 20px rgb(254 202 87 / .4);font-weight:700}#fireBtn:active,#weaponBtn:active{transform:scale(.95)}@media(max-width:768px){#mobileControls{display:block;bottom:90px;}#controls{display:none}#intro h1{font-size:2.5rem}#intro p{font-size:1rem;padding:0 20px}#hud{font-size:.9rem}#minimap{width:100px;height:100px}#minimap.expanded{width:250px;height:250px}}#hud div{margin:2px 0;padding:2px 0}#effects div{animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}#dpadOuter:active{background:rgb(79 172 254 / .2)}#fireBtn:active{background:rgb(255 75 87 / .5);box-shadow:0 0 30px rgb(255 75 87 / .6)}#weaponBtn:active{background:rgb(254 202 87 / .5);box-shadow:0 0 30px rgb(254 202 87 / .6)}.fade-in{animation:fadeIn 1s ease-in}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media(max-width:480px){#intro h1{font-size:2rem}#dpad{width:100px;height:100px}#dpadOuter{width:100px;height:100px}#dpadInner{width:35px;height:35px;top:32.5px;left:32.5px}#fireBtn{width:90px;height:90px;font-size:12px}#weaponBtn{width:50px;height:50px;font-size:10px}#minimap{width:80px;height:80px}#minimap.expanded{width:200px;height:200px}}*{box-sizing:border-box}canvas{image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:optimize-contrast}#landingPrompts{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:150}@keyframes landingPulse{0%,100%{opacity:1;transform:translateX(-50%)scale(1);box-shadow:0 0 10px rgb(0 255 136 / .6)}50%{opacity:.8;transform:translateX(-50%)scale(1.05);box-shadow:0 0 20px rgb(0 255 136 / .8)}}#dialogueSystem{position:absolute;top:0;left:0;width:100%;height:100%;background:rgb(0 0 0 / .8);display:flex;padding-top:3em;vertical-align:top;justify-content:center;align-items:flex-start;z-index:1000;backdrop-filter:blur(5px)}#dialogueBox{background:linear-gradient(135deg,#0a0a2e,#16213e);border:0 solid #104840;border-radius:15px;padding:0;max-width:90vw;width:500px;text-align:center;box-shadow:0 0 30px #003c71}#planetImage{font-size:4rem;margin-bottom:15px;border-radius:14px 14px 0 0;overflow:hidden;text-shadow:0 0 20px rgb(79 172 254 / .6)}#planetImage img{width:100%;height:auto;display:block;animation:planetZoom 18s ease-in-out infinite}@keyframes planetZoom{0%,100%{transform:scale(1)}50%{transform:scale(1.07)}}#dialogueContent h3{color:#4facfe;margin-top:0;font-size:1.5rem;text-shadow:0 0 10px rgb(79 172 254 / .8)}#dialogueOptions{margin-bottom:1em}#dialogueContent p{color:#fff;margin:20px 0;padding:0 30px;line-height:1.6em;min-height:60px;max-height:12em;text-align:left;overflow-y:scroll}@media(max-width:768px){#dialogueBox{padding:0;width:95vw;max-width:none}#dialogueSystem{padding-top:1em}#planetImage{font-size:3rem}#dialogueContent h3{font-size:1.2rem}#dialogueContent p{font-size:.9rem;min-height:50px}}.dialogue-btn{background:linear-gradient(45deg,#1e32e9,#2196F3);border:none;color:#fff;padding:12px 24px;font-size:1rem;border-radius:25px;cursor:pointer;transition:all 0.3s;margin:10px}.dialogue-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgb(0 0 0 / .3)}#landBtn{position:absolute;bottom:20px;right:100px;width:60px;height:60px;border:3px solid rgb(0 255 136 / .6);border-radius:50%;background:rgb(0 255 136 / .3);color:#fff;font-size:12px;display:none;align-items:center;justify-content:center;user-select:none;backdrop-filter:blur(5px);box-shadow:0 0 20px rgb(0 255 136 / .4);font-weight:700}#landingPrompts div{white-space:nowrap}@media(max-width:768px){#mobileControls #landBtn{display:flex}}
.event-player-join {
    border-left-color: #00ff88;
    background: rgba(0, 255, 136, 0.1);
}

.event-connection {
    border-left-color: #00f2fe;
    background: rgba(0, 242, 254, 0.1);
}

.event-error {
    border-left-color: #ff4757;
    background: rgba(255, 71, 87, 0.1);
}
.weapon-indicator {
    position: absolute;
    bottom: 20px;
    right: 20px;
    color: #00ff88;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
}
  </style>
  </body>
</html>